# 데이터 통신

- 데이터가 통신되기 위해서는 `데이터 생성`, `데이터 통신`, `데이터 처리` 과정이 필요하다.
- 이 3가지를 위해선 **응용프로그램**, **통신기기**, **송수신 장치**, 통신을 위한 규약인 **프로토콜**이 필요하다.
- 통신에 전달되는 데이터는 사용자데이터, 제어데이터, 관리데이터가 있다.
    - `사용자 데이터` : 보내고자 하는 목적데이터
    - `제어 데이터` : 데이터 속도를 제어하고 오류발생시 대처를 위한 정보데이터
    - `관리 데이터` : 통신망(데이터가 전달되는 공간)에 대한 정보데이터 (망의 트래픽, 망의 동작상태 등)
    
## 통신 프로토콜
- 장치간 데이터를 어떻게 송/수신(통신) 할지 정한 규약 또는 약속

***Example***

```text
1. 핸드폰으로 상대방 번호를 입력후 통화버튼을 누른다.
2. 발신음이 울린다.(약 1분)
3. 1분내에 연결이 되면(상대방이 전화를 받으면) 대화를 진행한다.
    3-1. 연결이 되지 않으면 음성메시지를 남긴다. 또는 retry를 한다.
```
- 이 예제에서 상대방과 전화연결(데이터 통신)을 위해 발신음은 몇분동안 진행되는지, 연결실패(오류)시 대처로직 등을 정한것을 통신 프로토콜이라고 함.
- 핸드폰은 이러한 프로토콜에 따라 구현되어야 가능
- 통신 프로토콜은 기능별로 계층화 되어있음
    1. 각 계층의 동작을 **쉽게 이해**할 수 있음
    2. 각 계층을 프로그램으로 구현하기 **편리**
    3. 각 계층은 독립되어있기 때문에 에러 발생시 다른 계층에 에러를 전파하지 않

## 프로토콜의 계층화
- 

## OSI 7 계층
- 임의의 장비간의 접속을 위해 만들어진 7개의 계층 통신 구조
    - 통신이 일어나는 과정을 역할별 7단계로 나누어 만든 통신 구조
- OSI 7계층은 **물리계층, 링크계층, 네트워크 계층, 전송계층, 세션계층, 표현계층, 응용계층**으로 구성

### 1. 물리계층
- 하드웨어의 역할에 관한 계층
- 정보의 최소단위인 bit 정보를 전송매체를 통하여 효율적인 전송하는 기능
- 커넥터의 기계적 규격, 0과 1의 신호를 구분하는 전압 레벨, 전송속도 등의 전기적 규격과 비트정보를 주고받기 위한 제어신호의 사용순서에 관한 규정을 정의
- 데이터가 통신을 하기 위한 데이터를 디지털데이터로 변환하는 역할을 함
    - 데이터의 상태,종류,에러 존재유무는 신경쓰지 않은채 오로지 데이터를 보낼 수 있도록 전기적인 신호로 변환

### 2. 링크계층
- 물리계층의 서비스를 받아 데이터 블록단위를 노드간에 **신뢰성 있게 전송**하는 기능을 정의
- 링크계층에서는 노드 사이의 링크의 개설과 해제, 프레임의 시작과 끝을 찾도록하는 동기화, 프레임 전송 중에 발생하는 오류의 제어, 프레임 단위의 흐름제어 등을 수행

### 3. 네트워크 계층
- 링크계층에 의해 프레임 단위로 온 user data를 목적지까지 전달하는데 필요한 기능을 정의
- 네트워크 계층이 다룰 사용자 정보 단위를 packet이라고 부름
- 네트워크 계층은 패킷 주소의 분석, 노드의 논리적 연결의 설정과 해제(어디로 가야하는지), 패킷단위의 흐름제어, 패킷을 최적의 경로로 목적지까지 전달하기 위한 라우팅 등을 수행
- 라우팅 : 데이터를 목적지까지 전달하기 위한 길을 설정
    - 춘천 -> 인천 일 경우, 인천(목적지)로 가기 위해 경기도 노드 거쳐 인천를 노드에 도착 (길을 설정)
     
### 4. 전송 계층
- 네트워크의 내부에 있는 노드에서 수행되는 것이 아닌, 데이터의 최종 송수신 장비인 호스트에서 수행
- 종점 장비 사이에 데이터가 잘 전송이 됐는지 확인
- 종점간의 연결 설정 및 해제 기능과 종점 장비가 주고받는 데이터에 대한 오류 복원, 흐름제어 등을 담당
- 데아터 정보에 데이터가 잘 갔는지 정보를 담아 이 계층에서 확인을 함

### 5. 세션계층
- 통신 장비간에 통신의 시작, 유지 및 종료를 관리하는 계층(일의 시작과 상태, 끝을 관리)
- 하위 계층의 주된기능이 데이터의 전달이라면 상위계층은 종점 호스트 내의 프로세스간의 통신 프로토콜
- 데이터가 목적지에 도착한것에서 끝이 아닌, 상대의 데이터 수락의사가 없으면 데이터는 전달되지 않는다.

### 6. 프레젠테이션 계층(표현계층)
- 데이터의 표현방식을 확인하는 계층
    - 데이터의 표현방식이 상대와 맞지 않으면 데이터가 오류없이 잘 와도 해석할 수 없음
- 컴퓨터마다 데이터의 표현방식이 다를 수 있는 문제를 해결하기 위하여 표준화된 표현 방식의 사용, 코드의 변환, 데이터 압축, 암호화/해독 등을 수행

### 7. 응용계층
- 수행목적을 하는 계층
- 대표적인 응용 계층 프로그램: ftp, telnet, e-mail, 네트워크관리, 웹서비스 등 -> 사용자와 직접 상호작용 하는 프로그램




### 참고
- https://jhnyang.tistory.com/194
- 우리학교 데이터통신 강의 & pdf
- https://www.stevenjlee.net/2020/02/09/%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-osi-7%EA%B3%84%EC%B8%B5-%EA%B7%B8%EB%A6%AC%EA%B3%A0-tcp-ip-4%EA%B3%84%EC%B8%B5/